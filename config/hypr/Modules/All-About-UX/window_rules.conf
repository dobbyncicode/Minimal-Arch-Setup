# ──────────────────────────────
# Browsers
# ──────────────────────────────
windowrule = tag +browser, class:^([Ff]irefox|org.mozilla.firefox|[Ff]irefox-esr|[Ff]irefox-bin)$
windowrule = tag +browser, class:^([Gg]oogle-chrome(-beta|-dev|-unstable)?)$
windowrule = tag +browser, class:^(chrome-.+-Default)$          # Chrome PWAs
windowrule = tag +browser, class:^([Cc]hromium)$
windowrule = tag +browser, class:^([Mm]icrosoft-edge(-.*)?)$
windowrule = tag +browser, class:^(Brave(-browser)?(-.*)?)$
windowrule = tag +browser, class:^([Tt]horium-browser|[Cc]achy-browser)$
windowrule = tag +browser, class:^(zen-alpha|zen)$

# ──────────────────────────────
# Notifications
# ──────────────────────────────
windowrule = tag +notif, class:^(swaync-(control-center|notification-window|client))$

# ──────────────────────────────
# Terminals
# ──────────────────────────────
windowrule = tag +terminal, class:^(Alacritty|kitty|kitty-dropterm)$

# Screenshare / Streaming
# ──────────────────────────────
# Toolkit backends
# ──────────────────────────────
windowrule = tag +screenshare, class:^(com.obsproject.Studio)$

# ──────────────────────────────
# Multimedia
# ──────────────────────────────
windowrule = tag +multimedia, class:^([Aa]udacious)$
windowrule = tag +multimedia_video, class:^([Mm]pv|vlc)$

# ──────────────────────────────
# Settings / Control GUIs
# ──────────────────────────────
windowrule = tag +settings, title:(Kvantum Manager)
windowrule = tag +settings, class:^(file-roller|org.gnome.FileRoller)$
windowrule = tag +settings, class:^(nm-applet|nm-connection-editor|blueman-manager)$
windowrule = tag +settings, class:^(pavucontrol|org.pulseaudio.pavucontrol|com.saivert.pwvucontrol)$
windowrule = tag +settings, class:^(qt5ct|qt6ct|[Yy]ad)$
windowrule = tag +settings, class:(xdg-desktop-portal-gtk)

# ──────────────────────────────
# Video players → no blur, force full opacity
# ──────────────────────────────
windowrule = noblur, tag:multimedia_video*
windowrule = opacity 1.0, tag:multimedia_video*

# ──────────────────────────────
# Center important utilities
# ──────────────────────────────
windowrule = center, class:^(pavucontrol|org.pulseaudio.pavucontrol|com.saivert.pwvucontrol)$
windowrule = move 72% 7%, title:^(Picture-in-Picture)$

# ──────────────────────────────
# Idle inhibit when fullscreen
# ──────────────────────────────
windowrule = idleinhibit fullscreen, fullscreen:1

# ──────────────────────────────
# Universal floating dialogs
# ──────────────────────────────
windowrulev2 = float, xdg_dialog
windowrulev2 = float, popup
windowrulev2 = float, utility
windowrulev2 = center, floating:1

# ──────────────────────────────
# Force browsers tiled unless true dialog
# ──────────────────────────────
windowrulev2 = tile, tag:browser*

# ──────────────────────────────
# Specific float rules
# ──────────────────────────────
windowrule = float, title:^(Picture-in-Picture)$
windowrule = pin,   title:^(Picture-in-Picture)$

# ──────────────────────────────
# Example: custom app float/size
# ──────────────────────────────
windowrulev2 = float, class:(clipse)
windowrulev2 = size 622 652, class:(clipse)

# ──────────────────────────────
# Opacity rules
# ──────────────────────────────

$active   = 0.9
$inactive = 0.88

windowrule = opacity 1.0 1.0, tag:browser*
windowrule = opacity $active $inactive, tag:projects*
windowrule = opacity $active $inactive, tag:im*
windowrule = opacity $active $inactive, tag:multimedia*
windowrule = opacity $active $inactive, tag:file-manager*
windowrule = opacity $active $inactive, tag:terminal*
windowrule = opacity $active $inactive, tag:settings*
windowrule = opacity $active $inactive, tag:viewer*
windowrule = opacity $active $inactive, tag:wallpaper*
windowrule = opacity $active $inactive, class:^(gedit|org.gnome.TextEditor|mousepad)$
windowrule = opacity $active $inactive, class:^(deluge)$
windowrule = opacity $active $inactive, class:^(im.riot.Riot)$
windowrule = opacity $active $inactive, class:^(seahorse)$
windowrule = opacity $active $inactive, title:^(Picture-in-Picture)$

# ──────────────────────────────
# LAYER RULES
# ──────────────────────────────

layerrule = blur, notifications
layerrule = ignorezero, notifications